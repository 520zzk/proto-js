<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style type="text/css"> 
    *{margin:0px;padding:0px;}
    img{border:0px;vertical-align: top;}
    .box1{width:350px;overflow:hidden; position:relative; }
    .box1 img{width:100%; }
    .mask{width:100px;height:100px;position:absolute; background:yellow;display:none; top:0px;left:0px;opacity:0.5;filter:alpha(50);}
    .box2{width:400px;height:400px;display:none;overflow:hidden;position:absolute; top:20px;left:400px;}
    .box2 img{position:absolute;top:0px;left:0px;}
    </style>
</head>
<body>
    <div class="box1">
        <img src="./2.jpeg" alt="">
        <div class="mask"></div>
    </div>
    <div class="box2">
        <img src="./2.jpeg" alt="">
    </div>
</body>

<script type="text/javascript">
    var oDiv1=document.getElementsByClassName('box1')[0];
    var oMask=document.getElementsByClassName('mask')[0];
    var oDiv2=document.getElementsByClassName('box2')[0];
    var oImg2=oDiv2.getElementsByTagName('img')[0];
    
    oDiv1.onmouseenter=function(){
        oMask.style.display='block';
        oDiv2.style.display="block";

    }
    oDiv1.onmousemove=function(ev){
        var ev = ev ||window.event;
        var L=ev.clientX-oMask.offsetWidth/2;
        var T=ev.clientY-oMask.offsetHeight/2;

        if(L<0){
            L=0;
        }else if(L>this.offsetWidth-oMask.offsetWidth){
            L=this.offsetWidth-oMask.offsetWidth;
        }
        if(T<0){
            T=0;
        }else if(T>this.offsetHeight-oMask.offsetHeight){
            T=this.offsetHeight-oMask.offsetHeight;
        }
        oMask.style.left=L+ 'px';
        oMask.style.top=T+ 'px';
        var scaleX=L/(oDiv1.offsetWidth-oMask.offsetWidth);
        var scaleY=T/(oDiv1.offsetHeight-oMask.offsetHeight);
        oImg2.style.left= -scaleX*(oImg2.offsetWidth-oDiv2.offsetWidth)+'px';
        oImg2.style.top= -scaleY*(oImg2.offsetHeight-oDiv2.offsetHeight)+'px';

    }

    oDiv1.onmouseleave=function(){
        oMask.style.display="none";
        oDiv2.style.display="none";
    }
   
</script>
</html>