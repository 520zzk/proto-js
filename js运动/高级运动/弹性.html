<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
*{ margin:0; padding:0;}
#ul1{ width:428px; height:30px; margin:20px auto; position:relative;}
#ul1 li{ width:100px; height:30px; background:red; border:1px #000 solid; margin-right:5px; float:left; list-style:none; line-height:30px; text-align:center;}
#ul1 li:hover{cursor:pointer;}
#ul1 #mark{ position:absolute; left:0; top:0;overflow:hidden;}
#ul1 #mark ul{width:428px;position:absolute;left:-1px;top:-1px;color:white;}
</style>
<script>
window.onload = function(){

    var mark=document.getElementById('mark');
    var ali=document.getElementsByClassName('box');
    var speed=0;
    var time1=null;
    var time2=null;
    var chilUL=mark.getElementsByTagName('ul')[0];
   

    for(var i=0;i<ali.length;i++){
        ali[i].onmouseover=function(){
            clearInterval(time2);
            startMove(this.offsetLeft);
        }
        ali[i].onmouseout=function(){
            
            time2=setInterval(function(){
                startMove(0);
            },100)
        }

        mark.onmouseover=function(){
            clearInterval(time2);
        }
        mark.onmouseout=function(){
              
            time2=setInterval(function(){
                startMove(0);
            },100);
        }
    }

/*弹性运动*/
    function startMove(iTarget){
        clearInterval(time1);
        time1=setInterval(function(){
            speed += (iTarget-mark.offsetLeft)/6;
            speed *=0.7;

            if(Math.abs(speed)<1 && Math.abs(iTarget-mark.offsetLeft)<1){
                clearInterval(time1);
                mark.style.left = iTarget+"px";
                chilUL.style.left=-iTarget+"px";
                speed=0;
            }else{
                mark.style.left = mark.offsetLeft+speed+'px';
                chilUL.style.left=-mark.offsetLeft+'px';
               
            }
        },1000/60);
    };
}
</script>
</head>

<body>
<ul id="ul1">
	<li id="mark">
        <ul>
        <li>首页</li>
        <li>论坛</li>
        <li>视频</li>
        <li>留言</li>
        </ul>
    </li>
	<li class="box">首页</li>
    <li class="box">论坛</li>
    <li class="box">视频</li>
    <li class="box">留言</li>
</ul>
</body>
</html>
